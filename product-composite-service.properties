# This file contains the non-production configuration for the Product Composite Service.

# --- Server Port ---
# Sets the port on which the Product Composite Service will run.
server.port=8070

# --- Resilience4j Circuit Breaker Configuration ---
# These properties configure the circuit breaker pattern for calls to downstream services.
# This helps to prevent cascading failures when a service is unavailable.

# Configuration for the 'productService' circuit breaker
resilience4j.circuitbreaker.instances.productService.slidingWindowSize=10
resilience4j.circuitbreaker.instances.productService.failureRateThreshold=50
resilience4j.circuitbreaker.instances.productService.waitDurationInOpenState=5000ms

# Configuration for the 'reviewService' circuit breaker
resilience4j.circuitbreaker.instances.reviewService.slidingWindowSize=10
resilience4j.circuitbreaker.instances.reviewService.failureRateThreshold=50
resilience4j.circuitbreaker.instances.reviewService.waitDurationInOpenState=5000ms

# Configuration for the 'recommendationService' circuit breaker
resilience4j.circuitbreaker.instances.recommendationService.slidingWindowSize=10
resilience4j.circuitbreaker.instances.recommendationService.failureRateThreshold=50
resilience4j.circuitbreaker.instances.recommendationService.waitDurationInOpenState=5000ms

# --- Spring Boot Actuator Configuration ---
# Exposes specific Actuator endpoints for monitoring, including health checks, application info, and Prometheus metrics.
management.endpoints.web.exposure.include=health,info,prometheus,metrics

# Enables the metrics and Prometheus endpoints for scraping by a Prometheus server.
management.endpoint.metrics.enabled=true
management.endpoint.prometheus.enabled=true
